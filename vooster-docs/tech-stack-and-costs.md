# 접목 기술·역할 및 유료 플랫폼 비용 (월 1,000건 기준)

AdMate Vision에 사용된 **기술 스택**, **역할**, **유료 서비스의 월 1,000건 기준 비용**을 정리한 문서입니다.

---

## 1. 접목 기술과 역할

### 1.1 프론트엔드·UI

| 기술 | 역할 |
|------|------|
| **Next.js 15** | React 기반 풀스택 프레임워크. 앱 라우터, SSR, API 라우트 연동. |
| **React 19** | UI 컴포넌트·상태 관리. 촬영·확인·광고주·보고 화면 구성. |
| **Tailwind CSS** | 유틸리티 기반 스타일링. 반응형·다크 모드 등. |
| **Shadcn UI / Radix UI** | 버튼, 카드, 시트, 폼 등 공통 UI 컴포넌트. |
| **Lucide React** | 아이콘(카메라, 로그인, 볼륨, 다운로드 등). |
| **Framer Motion** | 애니메이션(선택 사용). |
| **React Query (@tanstack/react-query)** | 서버 상태·캐시. 광고주 목록·보고 이력 조회 등. |
| **React Hook Form + Zod** | 폼 입력·유효성 검사(가입, 로그인, 광고주 등록 등). |
| **Zustand** | 클라이언트 전역 상태(필요 시). |

---

### 1.2 백엔드·API

| 기술 | 역할 |
|------|------|
| **Hono** | API 라우터. `/api/[[...hono]]` 하에서 OCR·보고 발송·광고주 등 API 제공. |
| **Next.js API Routes** | Hono 앱을 Next.js와 연동해 서버리스 함수로 실행. |

---

### 1.3 인증·DB

| 기술 | 역할 |
|------|------|
| **Supabase Auth** | 회원가입·로그인·세션. 이메일 기반 인증. |
| **Supabase (PostgreSQL)** | 사용자·광고주·보고 이력 등 영구 저장. `vision_ocr_*` 테이블 사용. |
| **@supabase/ssr, @supabase/supabase-js** | 브라우저·서버에서 Supabase 클라이언트 사용. |

---

### 1.4 OCR·광고주 매칭

| 기술 | 역할 |
|------|------|
| **Google Cloud Vision API** | **서버 OCR.** 이미지에서 텍스트 추출(TEXT_DETECTION). 역명용으로 큰 글자 우선 사용. **유료**(무료 1,000건/월 후 과금). |
| **Tesseract.js** | **클라이언트 OCR 폴백.** Vision API 미설정 시 브라우저에서 텍스트 추출. **무료.** |
| **fastest-levenshtein** | 광고주명·검색어와 OCR 텍스트 유사도 계산. 자동 매칭. |
| **역명·호선 로직 (자체)** | 역명 화이트리스트(1·2·5·7·8호선), 역번호→호선, 역명 블록 합치기·별칭 처리. |

---

### 1.5 이메일·보고

| 기술 | 역할 |
|------|------|
| **Resend** | **보고 이메일 발송.** 촬영 ZIP·PPT 첨부 메일 전송. **유료**(무료 3,000통/월 후 과금). |
| **pptxgenjs** | **PPT 생성.** 노출량 보고서(표지·요약·시간대별·촬영 이미지·문서 끝). 템플릿 배경 + 데이터 오버레이. **무료(라이브러리).** |
| **JSZip** | 촬영 이미지 ZIP 생성(다운로드·이메일 첨부). **무료(라이브러리).** |

---

### 1.6 공공데이터·노출량

| 기술 | 역할 |
|------|------|
| **공공데이터포털 API (서울교통공사 역별승하차인원 등)** | 역·호선·시간대별 유동인구 조회. 노출량 추정·PPT 차트 데이터. **무료**(일일 한도 내). |
| **자체 노출량 계산·PPT 연동** | 게재 기간·일평균 유동인구 → 예상 총 노출량, 시간대별 표·막대·파이 차트. |

---

### 1.7 기타 라이브러리

| 기술 | 역할 |
|------|------|
| **date-fns** | 날짜 포맷(파일명, 보고 일자 등). |
| **axios** | HTTP 클라이언트(공공데이터 API 등 호출 시). |
| **ts-pattern** | 패턴 매칭·분기 처리. |
| **es-toolkit** | 배열·객체 등 유틸. |

---

### 1.8 호스팅·배포

| 기술 | 역할 |
|------|------|
| **Vercel** | Next.js 빌드·배포, 서버리스 함수 실행. HTTPS·도메인. **무료 티어** 있음. |

---

## 2. 유료 플랫폼 — 월 1,000건 기준 비용

아래는 **월 약 1,000건** 사용을 가정한 비용·무료 한도 요약입니다.  
실제 요금은 각 서비스 최신 정책을 확인하세요.

---

### 2.1 Google Cloud Vision API (서버 OCR)

- **역할**: 이미지당 1회 TEXT_DETECTION 호출(촬영 확인 시).
- **과금 단위**: 1,000건(이미지) 단위.
- **요금(공식 기준)**  
  - **월 1~1,000건: 무료.**  
  - 1,001~5,000,000건: **1,000건당 $1.50 (USD).**  
  - 5,000,001건 이상: 1,000건당 $0.60 (USD).
- **월 1,000건 기준**  
  - **발생 비용: $0 (무료 구간).**

※ 미설정 시 Tesseract.js(클라이언트)로 대체 가능. 비용 없음, 정확도·속도는 환경에 따라 다름.

---

### 2.2 Resend (이메일 발송)

- **역할**: 보고 발송 시 1통/1회(수신자 1명 기준).
- **요금(공식 기준)**  
  - **Free**: 일 100통(월 약 3,000통) 무료.  
  - Pro: $20/월 등(플랜별 상이).
- **월 1,000건 기준**  
  - **발생 비용: $0 (무료 한도 내).**

※ 도메인 인증·발신 주소는 Resend 대시보드에서 설정. `vercel.app` 도메인은 인증 불가.

---

### 2.3 Supabase (DB·인증)

- **역할**: 회원·광고주·보고 이력 저장, 인증.
- **요금(공식 기준)**  
  - **Free**: DB 500MB, API 무제한, 50,000 MAU 등.  
  - Pro: $25/월~.
- **월 1,000건 수준 사용**  
  - **발생 비용: $0 (무료 플랜으로 충분).**

※ 1주일 미사용 시 무료 프로젝트 자동 일시정지 가능. 재접속 시 재개.

---

### 2.4 공공데이터포털 (data.go.kr)

- **역할**: 역별 승하차/유동인구 API → 노출량·PPT 데이터.
- **요금**  
  - **무료.** 활용신청 후 인증키 발급.  
  - 개발·운영 계정: **일 1만 건** 등 한도(API별 상이).
- **월 1,000건 기준**  
  - **발생 비용: $0.**

---

### 2.5 Vercel (호스팅)

- **역할**: Next.js 빌드·배포, 서버리스 API 실행.
- **요금**  
  - **Hobby(무료)**: 개인/소규모 프로젝트.  
  - Pro: $20/월~.
- **월 1,000건 수준 트래픽**  
  - **발생 비용: $0 (무료 티어로 가능).**

---

### 2.6 Gemini API (AI 성과 분석)

- **역할**: 보고 발송 시 역명·호선·광고주 기반 AI 분석 문구·지표 생성. 모델: **gemini-2.0-flash**.
- **요금(공식 Paid Tier, 2025.12 기준)**  
  - Input: **$0.10 / 1M tokens** (text)  
  - Output: **$0.40 / 1M tokens**
- **1건당 토큰 추정**  
  - Input: 프롬프트(역명·호선·광고주·날짜 등) 약 **300 tokens**  
  - Output: JSON(분석 문장 + metrics + chartData) 약 **500 tokens**  
  - 1건당 비용: (300/1e6)×0.10 + (500/1e6)×0.40 ≈ **$0.00023 (USD)**
- **하루 10건 × 토/일 제외(약 22일) 기준**  
  - 월 호출 수: 10 × 22 = **220건**  
  - **월 예상 비용: 약 $0.05 ~ $0.06 (USD)** (약 70~80원 수준)

※ Free Tier에서도 제한 범위 내 무료 사용 가능. 상세: [Gemini API Pricing](https://ai.google.dev/gemini-api/docs/pricing)

---

## 3. 월 1,000건 기준 비용 요약표

| 플랫폼 | 역할 | 월 1,000건 기준 비용 | 비고 |
|--------|------|----------------------|------|
| **Google Cloud Vision API** | 서버 OCR | **$0** | 1,000건/월 무료 |
| **Resend** | 보고 이메일 발송 | **$0** | 3,000통/월 무료 |
| **Supabase** | DB·인증 | **$0** | Free 플랜 |
| **공공데이터포털** | 노출량 API | **$0** | 무료(한도 내) |
| **Vercel** | 호스팅·배포 | **$0** | Hobby 무료 |
| **Tesseract.js, pptxgenjs, JSZip 등** | OCR 폴백·PPT·ZIP | **$0** | 오픈소스 라이브러리 |
| **Gemini API** | AI 성과 분석(보고 1건당 1회) | **약 $0.05~0.06/월** | 하루 10건×22일 기준, gemini-2.0-flash |

- **합계(월 1,000건 가정): $0** (Gemini 제외 시)  
- **보고서 하루 10건(토/일 제외) 시**: Gemini만 약 **$0.05~0.06/월** 추가.  
- 사용량이 무료 한도를 넘으면 각 서비스 과금 정책에 따라 비용 발생.

---

## 4. 참고

- Google Vision: [Cloud Vision API 요금](https://cloud.google.com/vision/pricing)  
- Resend: [Resend 요금](https://resend.com/pricing)  
- Supabase: [Supabase 요금](https://supabase.com/pricing)  
- 공공데이터포털: [data.go.kr](https://www.data.go.kr) 활용신청·한도 확인  
- Vercel: [Vercel 요금](https://vercel.com/pricing)
